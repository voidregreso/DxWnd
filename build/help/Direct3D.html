<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <link type="text/css" rel="stylesheet" media="all" href="css/base.css" />
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=windows-1252" />
  <title>Direct3D</title>
  <meta name="GENERATOR" content="OpenOffice 4.1.3 (Win32)" />
  <meta name="CREATED" content="0;0" />
  <meta name="CHANGED" content="0;0" />
  <script src="js/jquery.min.js"></script>
  <script>
  <![CDATA[
                $(document).ready(function()
                {
                        if (top.frames.length == 0)
                        {
                                var sTopicUrl = top.location.href.substring(top.location.href.lastIndexOf("/") + 1, top.location.href.length);
                                top.location.href = "DxWnd.html?" + sTopicUrl;
                        }
                });
        
  ]]>
  </script>
  <style type="text/css">
  /*<![CDATA[*/
        <!--
                P { margin-bottom: 0cm; border: none; padding: 0cm; color: #000000; font-family: "Arial", "Helvetica", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; text-align: left; text-decoration: none }
                TD P { margin-bottom: 0cm; border: none; padding: 0cm; color: #000000; font-family: "Arial", "Helvetica", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal; text-align: left; text-decoration: none }
                P.rvps2 { font-family: "Arial", "Helvetica", sans-serif; font-size: 10pt; font-style: normal; font-weight: normal }
                H3 { color: #000000 }
                H3.cjk { font-family: "SimSun" }
                H3.ctl { font-family: "Mangal" }
        -->
  /*]]>*/
  </style>
</head>
<body lang="en-US" text="#000000" bgcolor="#FFFFFF" dir="ltr" style="border: none; padding: 0cm" xml:lang="en-US">
  <div id="topic_content" dir="ltr">
    <p class="rvps2" style="margin-bottom: 0.5cm"><img src="lib/dxwnd_configuration_direct3d4.png" name="grafiikka4" align="bottom" width="503" height="555" border="0" id="grafiikka4" /></p>
    <h3 class="western">Direct3D tweaks</h3>
    <table width="100%" border="1" cellpadding="2" cellspacing="2">
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Textures not power of 2 fix</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">NOPOWER2FIX</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Some games don't properly check whether the hardware can properly manage textures whose sizes are not a power of 2 (e.g. 16, 32, 64, 128 bits). If textures of a different size are processed by hardware without this capability, you get diagonal effects on the rendered image. The option fixes this problem.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Clean ZBUFFER @0.0 fix</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">ZBUFFER0CLEAN</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Some games don't properly clear the zeta buffer between frames, producing incorrect surface z-ordering and other issues. This flag fixes this problem. For an example, see <a href="SnowBoardRacer.html">Examples &gt; SnowBoard: Racer</a>.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Clean ZBUFFER @1.0 fix</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">ZBUFFERCLEAN</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Some games don't properly clear the zeta buffer between frames, producing incorrect surface z-ordering and other issues. This flag fixes this problem. It is similar to ZBUFFER0CLEAN, but it works in different contexts.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Clean ZBUFFER hard</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">ZBUFFERHARDCLEAN</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Fixes &quot;Star Wars Ep.1 Racer&quot; ZBuffer problems producing the same effect as the &quot;Clean ZBUFFER @1.0&quot; flag but using a quite different approach. It is called &quot;hard&quot; because it is a little &quot;rude&quot;, you're not supposed to write directly on top of the ZBuffer surface, but it works!</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Dynamic ZBUFFER fix</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">DYNAMICZCLEAN</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Needed to fix some of &quot;Tonic Trouble&quot; rendering problems.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Suppress D3D8/9 Reset</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">NOD3DRESET</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Do not perform the D3D reset operation.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Suppress d3d9 extensions</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">SUPPRESSD3DEXT</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">D3d9.dll comes in different versions depending on the platform: on older windows releases it exports the Direct3DCreate API, while in more recent versions there are many further exported calls. This flag suppresses the additional entries.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Enumerate 16bit modes</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">ENUM16BITMODES</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">On Windows 10, the list of available video modes (see DirectDraw8/9::EnumAdapterModes) may not include those with color depths lower than 32bpp while no fullscreen programs are running (known as &quot;desktop composition mode&quot;). This may impact games that need 8- or 16-bit color depth. This flag forces the inclusion of modes with 16-bit color depth. This option may help when a Direct3D8/9 program running on Windows 10 lacks the proper video mode and terminates.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Trim texture formats</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">TRIMTEXTUREFORMATS</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Emulates the &quot;DirectXTrimTextureFormats&quot; shim as closely as possible. Trims the ZBufferFormats so that no more than 3 entries are enumerated, in growing color depth order, and 32-bit formats are omited. For an example, see <a href="HG2.html">Examples &gt; Heavy Gear 2</a>.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Force setting gamma ramp</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">FORCED3DGAMMARAMP</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Enable gamma ramp control from windowed game, though changing the whole desktop. Makes &quot;Morrowind&quot; more playable.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Enable Light gamma ramp</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">LIGHTGAMMARAMP</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">To enable gamma ramp correction in D3D lights. See <a href="Gamma.html">Gamma control</a>.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="186">
          <p class="rvps2" style="border: none; padding: 0cm">Pretend HW T&L cap.</p>
        </td>
        <td width="127">
          <p class="rvps2" style="border: none; padding: 0cm">TRANSFORMANDLIGHT</p>
        </td>
        <td width="1224">
          <p class="rvps2" style="border: none; padding: 0cm">Pretends that the video card has hardware transformation and light capabilities. This is not necessary since DirectX can emulate T&L by software transparently to the application, but some games make a check for this capability and refuse to run if it is missing, so this flag makes them running.</p>
        </td>
      </tr>
    </table>
    <p><br /></p>
    <hr />
    <h3 class="western">Texture handling</h3>
    <p class="rvps2" style="margin-bottom: 0.5cm">These flags help modders manage game textures. In particular, they can highlight where textures should be used, extracting them as bitmaps, or replace textures with custom ones. Use the Dump flag to extract textures, or the Hack flag if you plan on using a graphics editor to create customized replacement textures.</p>
    <table width="100%" border="1" cellpadding="2" cellspacing="2">
      <tr valign="top">
        <td width="56">
          <p class="rvps2" style="border: none; padding: 0cm">None</p>
        </td>
        <td width="134"></td>
        <td width="1347">
          <p class="rvps2" style="border: none; padding: 0cm">The default behavior. Does not apply special handling to textures.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="56">
          <p class="rvps2" style="border: none; padding: 0cm">Highlight</p>
        </td>
        <td width="134">
          <p class="rvps2" style="border: none; padding: 0cm">TEXTUREHIGHLIGHT</p>
        </td>
        <td width="1347">
          <p class="rvps2" style="border: none; padding: 0cm">All hooked textures are replaced with a randomly-generated solid color. This makes it easier to see texel boundaries and texture usage.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="56">
          <p class="rvps2" style="border: none; padding: 0cm">Dump</p>
        </td>
        <td width="134">
          <p class="rvps2" style="border: none; padding: 0cm">TEXTUREDUMP</p>
        </td>
        <td width="1347">
          <p class="rvps2" style="border: none; padding: 0cm">All hooked textures that match the criteria in the Texture section of your dxwnd.ini configuration file are extracted as bitmap files and dumped into DxWnd's &quot;texture.out&quot; subfolder. The automatic filenames include a hash of the file's graphical content to make it easier to uniquely identify each texture.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="56">
          <p class="rvps2" style="border: none; padding: 0cm">Hack</p>
        </td>
        <td width="134">
          <p class="rvps2" style="border: none; padding: 0cm">TEXTUREHACK</p>
        </td>
        <td width="1347">
          <p class="rvps2" style="border: none; padding: 0cm">This option replaces all hooked textures by calculating hashed filenames, looking for those names in DxWnd's &quot;texture.in&quot; subfolder, and using any matching textures that it finds there.</p>
        </td>
      </tr>
    </table>
    <p><br /></p>
    <hr />
    <h3 class="western">Emulation</h3>
    <table width="100%" border="1" cellpadding="2" cellspacing="2">
      <tr valign="top">
        <td width="200">
          <p class="rvps2" style="border: none; padding: 0cm">Emulate 16bpp D3D8 backbuffer</p>
        </td>
        <td width="112">
          <p class="rvps2" style="border: none; padding: 0cm">D3D8BACK16</p>
        </td>
        <td width="1225">
          <p class="rvps2" style="border: none; padding: 0cm">D3D8 16bpp backbuffer emulation on 32bpp color depth. Fixes &quot;Dangerous Waters&quot; on 32bpp Win8-10 systems.</p>
        </td>
      </tr>
    </table>
    <p><br /></p>
    <hr />
    <h3 class="western">Force Vertex Processing</h3>
    <p class="rvps2" style="margin-bottom: 0.5cm">This option allows you to make experiments with different vertex processing settings for D3D8/9. When setting D3DCREATE_MIXED_VERTEXPROCESSING or D3DCREATE_SOFTWARE_VERTEXPROCESSING it also trims down the D3DCREATE_PUREDEVICE flag that is incompatible with these two and causes a D3D error.</p>
    <p class="rvps2" style="margin-bottom: 0.5cm">NOTE: Changing this option to software or mixed may help with rendering problems. (Virtual Skipper 5)</p>
    <table width="100%" border="1" cellpadding="2" cellspacing="2">
      <tr valign="top">
        <td width="200">
          <p class="rvps2" style="border: none; padding: 0cm">Default</p>
        </td>
        <td width="112"></td>
        <td width="1225"></td>
      </tr>
      <tr valign="top">
        <td width="200">
          <p class="rvps2" style="border: none; padding: 0cm">hardware</p>
        </td>
        <td width="112">
          <p class="rvps2" style="border: none; padding: 0cm">FORCEHWVERTEXPROC</p>
        </td>
        <td width="1225">
          <p class="rvps2" style="border: none; padding: 0cm">Hardware setting uses the video card (GPU).</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="200">
          <p class="rvps2" style="border: none; padding: 0cm">software</p>
        </td>
        <td width="112">
          <p class="rvps2" style="border: none; padding: 0cm">FORCESWVERTEXPROC</p>
        </td>
        <td width="1225">
          <p class="rvps2" style="border: none; padding: 0cm">Software setting uses the system (CPU). Win10 anniversary update seems to default to software mode which can cause performance issues.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="200">
          <p class="rvps2" style="border: none; padding: 0cm">mixed</p>
        </td>
        <td width="112">
          <p class="rvps2" style="border: none; padding: 0cm">FORCEMXVERTEXPROC</p>
        </td>
        <td width="1225"></td>
      </tr>
    </table>
    <p><br /></p>
    <hr />
    <h3 class="western">Swap Effect</h3>
    <p class="rvps2" style="margin-bottom: 0.5cm">Forces Swap Effect</p>
    <p class="rvps2" style="margin-bottom: 0.5cm">FORCESWAPEFFECT</p>
    <p class="rvps2" style="margin-bottom: 0.5cm">This experimental flag forces the selected SwapEffect mode during the CreateDevice/Reset methods. In some cases, it may improve compatibility or performance. You can choose from the following modes:</p>
    <ul>
      <li>
        <p>Discard</p>
      </li>
      <li>
        <p>Flip</p>
      </li>
      <li>
        <p>Copy</p>
      </li>
      <li>
        <p>Overlay</p>
      </li>
      <li>
        <p style="margin-bottom: 0.5cm">FlipEx</p>
      </li>
    </ul>
    <p><br /></p>
    <hr />
    <h3 class="western">3D effects</h3>
    <table width="100%" border="1" cellpadding="2" cellspacing="2">
      <tr valign="top">
        <td width="126">
          <p class="rvps2" style="border: none; padding: 0cm">Disable Textures</p>
        </td>
        <td width="116">
          <p class="rvps2" style="border: none; padding: 0cm">NOTEXTURES</p>
        </td>
        <td width="1295">
          <p class="rvps2" style="border: none; padding: 0cm">Remap all textures with a white texture (Direct3D only).</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="126">
          <p class="rvps2" style="border: none; padding: 0cm">3D wireframe</p>
        </td>
        <td width="116">
          <p class="rvps2" style="border: none; padding: 0cm">WIREFRAME</p>
        </td>
        <td width="1295">
          <p class="rvps2" style="border: none; padding: 0cm">Show graphics in wireframe mode. This option works with Direct3D and OpenGL programs, but not with DirectDraw programs.</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="126">
          <p class="rvps2" style="border: none; padding: 0cm">Disable Fogging</p>
        </td>
        <td width="116">
          <p class="rvps2" style="border: none; padding: 0cm">DISABLEFOGGING</p>
        </td>
        <td width="1295">
          <p class="rvps2" style="border: none; padding: 0cm">Disables the fogging effect (Direct3D only).</p>
        </td>
      </tr>
      <tr valign="top">
        <td width="126">
          <p class="rvps2" style="border: none; padding: 0cm">Clear target viewport</p>
        </td>
        <td width="116">
          <p class="rvps2" style="border: none; padding: 0cm">CLEARTARGET</p>
        </td>
        <td width="1295">
          <p class="rvps2" style="border: none; padding: 0cm">Forcefully invokes the Direct3D &quot;Clean&quot; method on the target surface every time the &quot;BeginScene&quot; method is invoked. Most games already do this, but some omit it because there were no undesired effects on the computers that were in use at the time. Running these games in windowed mode on modern platforms may show trails of previous frames. This flag cleans up graphical artifacts from old frames, resolving this issue.</p>
        </td>
      </tr>
    </table>
    <div id="topic_footer" dir="ltr">
      <p style="margin-bottom: 0.5cm"><br />
      <br /></p>
    </div>
  </div>
</body>
</html>
